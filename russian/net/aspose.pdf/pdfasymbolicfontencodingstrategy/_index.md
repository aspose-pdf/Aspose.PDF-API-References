---
title: PdfASymbolicFontEncodingStrategy
second_title: Aspose.PDF для справочника API .NET
description: Этот класс описывает правила которые можно использовать для настройки процесса копирования данных кодировки для случаев когда символьный шрифт TrueType имеет более одной кодировки. Некоторые документы PDF после преобразования в формат PDF/A могут иметь ошибку Более одной кодировки в cmap символического шрифта TrueType. В чем причина этой ошибки Все символьные шрифты TrueType имеют специальную таблицу cmap в своих внутренних данных. Эта таблица сопоставляет коды символов с индексами глифов. И эта таблица может содержать различные подтаблицы кодировок которые описывают используемые кодировки. Дополнительную информацию о таблицах cmap см. на странице https//developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6cmap.html. Обычно таблица cmap содержит несколько подтаблиц кодирования но стандарт PDF/A требует чтобы для этого шрифта в документе PDF/A была оставлена только одна подтаблица кодирования 30. И ключевой вопрос здесь - какие данные нужно взять из других подтаблиц чтобы скопировать в таблицу кодирования назначения 30 Большинство шрифтов имеют правильно сформированные таблицы cmap где каждая подтаблица кодирования полностью согласуется с другой подтаблицей. Но некоторые шрифты имеют таблицы cmap с коллизиями - где например одна подтаблица имеет индекс глифа 100 для юникода 100 а другая подтаблица имеет индекс глифа 200 для того же юникода 100. Для решения этой проблемы нужна специальная стратегия. По умолчанию используется следующая стратегия Ищется mac subtable10. Если эта таблица найдена только эти данные используются для заполнения таблицы назначения 30. Если подтаблица mac не найдена то все подтаблицы кроме 30 повторяются и используются для копирования данных в подтаблицу назначения 30. Также сопоставление для каждого юникода юникода индекса глифа копируется в целевую таблицу только в том случае если в целевой таблице нет этого юникода в текущий момент. Так например если первая подтаблица имеет индекс глифа 100 для юникода 100 а следующая подтаблица имеет глиф индекс 200 для того же юникода 100 только данные из первой подтаблицы unicode 100 индекс глифа  100 будет скопирован. Таким образом каждая предыдущая подтаблица имеет приоритет над следующей. Свойства этого классаPdfASymbolicFontEncodingStrategy./pdfasymbolicfontencodingstrategyпомогают настроить поведение по умолчанию. Если свойствоPreferredCmapEncodingTable./pdfasymbolicfontencodingstrategy/preferredcmapencodingtableтипаCMapEncodingTableType./pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype  то соответствующая подтаблица будет использоваться в приоритете над подтаблицей mac10. Значение MacTable из перечисления CMapEncodingTableType./pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletypeв данном случае не имеет смысла потому что указывает на та же подтаблица mac 10 которая будет использоваться по умолчанию. СвойствоCmapEncodingTablesPriorityQueue./pdfasymbolicfontencodingstrategy/cmapencodingtablespriorityqueueотбрасывает все приоритеты для любой подтаблицы. Если установлено это свойство то в указанном порядке будут использоваться только подтаблицы из объявленной очереди. Если указанные подтаблицы не найдены будет использоваться итерация по умолчанию для всех подтаблиц и стратегия копирования описанная выше . ObjectQueueItem./pdfasymbolicfontencodingstrategy.queueitemуказывает используемую подтаблицу кодирования. Эта подтаблица может быть установлена с помощью комбинации элементов PlatformID PlatformSpecificId или с помощью перечисленияCMapEncodingTableType./pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype .
type: docs
weight: 5980
url: /ru/net/aspose.pdf/pdfasymbolicfontencodingstrategy/
---
## PdfASymbolicFontEncodingStrategy class

Этот класс описывает правила, которые можно использовать для настройки процесса копирования данных кодировки для случаев когда символьный шрифт TrueType имеет более одной кодировки. Некоторые документы PDF после преобразования в формат PDF/A могут иметь ошибку "Более одной кодировки в cmap символического шрифта TrueType". В чем причина этой ошибки? Все символьные шрифты TrueType имеют специальную таблицу "cmap" в своих внутренних данных. Эта таблица сопоставляет коды символов с индексами глифов. И эта таблица может содержать различные подтаблицы кодировок, которые описывают используемые кодировки. Дополнительную информацию о таблицах cmap см. на странице https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6cmap.html. Обычно таблица cmap содержит несколько подтаблиц кодирования, но стандарт PDF/A требует, чтобы для этого шрифта в документе PDF/A была оставлена только одна подтаблица кодирования (3,0). И ключевой вопрос здесь - какие данные нужно взять из других подтаблиц, чтобы скопировать в таблицу кодирования назначения (3,0)? Большинство шрифтов имеют «правильно сформированные» таблицы cmap, где каждая подтаблица кодирования полностью согласуется с другой подтаблицей. Но некоторые шрифты имеют таблицы cmap с коллизиями - где, например, одна подтаблица имеет индекс глифа 100 для юникода 100, а другая подтаблица имеет индекс глифа 200 для того же юникода 100. Для решения этой проблемы нужна специальная стратегия. По умолчанию используется следующая стратегия: Ищется mac subtable(1,0). Если эта таблица найдена, только эти данные используются для заполнения таблицы назначения (3,0). Если подтаблица mac не найдена, то все подтаблицы, кроме (3,0), повторяются и используются для копирования данных в подтаблицу назначения (3,0). Также сопоставление для каждого юникода (юникода, индекса глифа) копируется в целевую таблицу только в том случае, если в целевой таблице нет этого юникода в текущий момент. Так, например, если первая подтаблица имеет индекс глифа 100 для юникода 100, а следующая подтаблица имеет глиф индекс 200 для того же юникода 100, только данные из первой подтаблицы (unicode= 100, индекс глифа = 100) будет скопирован. Таким образом, каждая предыдущая подтаблица имеет приоритет над следующей. Свойства этого класса[`PdfASymbolicFontEncodingStrategy`](../pdfasymbolicfontencodingstrategy)помогают настроить поведение по умолчанию. Если свойство[`PreferredCmapEncodingTable`](./preferredcmapencodingtable)типа[`CMapEncodingTableType`](../pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype) , то соответствующая подтаблица будет использоваться в приоритете над подтаблицей mac(1,0). Значение 'MacTable' из перечисления [`CMapEncodingTableType`](../pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype)в данном случае не имеет смысла, потому что указывает на та же подтаблица mac (1,0), которая будет использоваться по умолчанию. Свойство[`CmapEncodingTablesPriorityQueue`](./cmapencodingtablespriorityqueue)отбрасывает все приоритеты для любой подтаблицы. Если установлено это свойство, то в указанном порядке будут использоваться только подтаблицы из объявленной очереди. Если указанные подтаблицы не найдены, будет использоваться итерация по умолчанию для всех подтаблиц и стратегия копирования, описанная выше . Object[`QueueItem`](../pdfasymbolicfontencodingstrategy.queueitem)указывает используемую подтаблицу кодирования. Эта подтаблица может быть установлена с помощью комбинации элементов (PlatformID, PlatformSpecificId) или с помощью перечисления[`CMapEncodingTableType`](../pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype) .

```csharp
public class PdfASymbolicFontEncodingStrategy
```

## Конструкторы

| Имя | Описание |
| --- | --- |
| [PdfASymbolicFontEncodingStrategy](pdfasymbolicfontencodingstrategy#constructor)() | Конструктор. Устанавливает подтаблицу по умолчанию (mac 1,0) |
| [PdfASymbolicFontEncodingStrategy](pdfasymbolicfontencodingstrategy#constructor_1)(CMapEncodingTableType) | Конструктор |
| [PdfASymbolicFontEncodingStrategy](pdfasymbolicfontencodingstrategy#constructor_2)(Queue&lt;QueueItem&gt;) | Конструктор |

## Характеристики

| Имя | Описание |
| --- | --- |
| [CmapEncodingTablesPriorityQueue](../../aspose.pdf/pdfasymbolicfontencodingstrategy/cmapencodingtablespriorityqueue) { get; set; } | Указывает очередь подтаблиц кодирования для обработки. |
| [PreferredCmapEncodingTable](../../aspose.pdf/pdfasymbolicfontencodingstrategy/preferredcmapencodingtable) { get; set; } | Определяет подтаблицу, которая будет использоваться в приоритете над подтаблицей mac(1,0). Значение 'MacTable' из перечисления [`CMapEncodingTableType`](../pdfasymbolicfontencodingstrategy.queueitem.cmapencodingtabletype)в данном случае не имеет смысла. |

### Смотрите также

* пространство имен [Aspose.Pdf](../../aspose.pdf)
* сборка [Aspose.PDF](../../)

<!-- DO NOT EDIT: generated by xmldocmd for Aspose.PDF.dll -->
